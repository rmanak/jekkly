<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="description" />
<meta name="keywords" content="keywords" />
<meta name="author" content="author" />
<link rel="stylesheet" type="text/css" href="pagestyle.css" />
<title>Arman Akbarian's Homepage</title>
<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>

<body>
<div class="page">
  <div class="page2">
     <div style="width:100%;height:1px;font-family: Tahoma; font-size: 1pt;"></div>
     <div  class ="header">
		
	     <div class="title">

			Arman Akbarian
			<div class="subtitle">UNIVERSITY OF BRITISH COLUMBIA <br /> PHYSICS &amp; ASTRONOMY DEPT. </div>
	</div> <!-- End of title -->
		<div class="sidebar">
         	<div class="sider">
               <p><a href="Home.html">Home <img src="img/home.svg" width="11px" /></a>
<a href="Research.html">Research <img src="img/beaker.svg" width="11px" /></a>
<a href="Publications.html">Publications <img src="img/pencil.svg" width="11px" /></a>
<a target="_blank" href="http://laplace.phas.ubc.ca/">Group Page <img style="margin-left:1px;" src="img/external-link.svg" alt="" align="bottom" /> <img src="img/people.svg" width="11px" /></a>
<a href="Contact.html">Contact <img src="img/envelope-closed.svg" width="11px" /></a>
<a href="CV.html">CV <img src="img/person.svg" width="11px" /></a></p>

<hr />

<p><a href="Links.html">Links <img src="img/link.svg" width="11px" /></a>
<a href="Learn-By-Examples.html">Programming <img src="img/code.svg" width="11px"/></a>
<a target="_blank" href="FD_doc">FD Toolkit <img style="margin-left:1px;" src="img/external-link.svg" alt="" align="bottom" /> <img src="img/graph.svg" width="11px" /></a>
<a target="_blank" href="sg">Web Template <img style="margin-left:1px;" src="img/external-link.svg" alt="" align="bottom" /> <img src="img/globe.svg" width="11px" /></a>
<a href="http://rmanak.github.io/notes">Miscellany <img src="img/layers.svg" width="11px" /></a></p>

             </div>
         </div> <!--End of Sidebar -->


     </div> <!-- end header -->
	
     <!--This line is for future use -->   <div style="text-align:center; padding-top:10px; padding-bottom:10px;"></div>
	      
     <!--This line is for compatibility issues --> <div style="width:100%;height:5px;font-family: Tahoma; font-size: 1pt;"></div>
     <!--in class page2 -->
     <div class="postandside">
		        <div class="content">
            <div class="post">
              <style type="text/css">
<!--
.Constant { color: #ff00ff; }
.Statement { color: #a52a2a; font-weight: bold; }
.Special { color: #6a5acd; }
pre {  color: #000000; background-color: #ffffff; }
body {  color: #000000; background-color: #ffffff; }
.PreProc { color: #a020f0; }
.Comment { color: #0000ff; }
.Identifier { color: #008b8b; }
-->
</style>
<pre>
<span class="PreProc">#!/usr/bin/perl</span>
<span class="Comment">##################################</span>
<span class="Comment"># This document explains perl's</span>
<span class="Comment"># subroutine and functions</span>
<span class="Comment"># AAK: Last Modification</span>
<span class="Comment"># Tue Sep 11 22:05:51 PDT 2012</span>
<span class="Comment"># ################################</span>


<span class="Identifier">@lff</span> = (apple, orange, strawberry);
<span class="Identifier">@ln</span> = <span class="Constant">1.</span>.<span class="Constant">10</span>;

<span class="Comment">#subroutine is defined as following:</span>
<span class="Statement">sub</span><span class="Identifier"> </span><span class="Identifier">print_list_of_fruit</span><span class="Identifier"> </span>{
<span class="Statement">print</span> <span class="Constant">&quot;</span><span class="Identifier">@lff</span><span class="Constant"> </span><span class="Special">\n</span><span class="Constant">&quot;</span>; <span class="Comment">#used global variable lff</span>
}
<span class="Comment">#and can be called as following:</span>

<span class="Identifier">&amp;print_list_of_fruit</span>;
<span class="Comment">#note that print_list.. subroutine is using `global` variable @lff</span>

<span class="Comment">#THE LAST CALCULATION IN SUBROUTINE WILL BE RETURNED:</span>

<span class="Statement">sub</span><span class="Identifier"> </span><span class="Identifier">msub2</span><span class="Identifier"> </span>{
   <span class="Constant">10</span> + <span class="Identifier">@lff</span>;
}

<span class="Statement">print</span> <span class="Identifier">&amp;msub2</span>, <span class="Constant">&quot;</span><span class="Special">\n</span><span class="Constant">&quot;</span>;

<span class="Comment">#note that how lff is being treated as scalar in the scalar context</span>
<span class="Comment">#note that all the subroutines in perl including</span>
<span class="Comment">#build-in ones such as print has return values, usually 1, meaning</span>
<span class="Comment">#successful operation</span>

<span class="Comment">#one can pass arguments to subroutine, it will be stored in @_:</span>

<span class="Statement">sub</span><span class="Identifier"> </span><span class="Identifier">mymax</span>{
   <span class="Statement">if</span> ( <span class="Identifier">$_</span>[<span class="Constant">0</span>] &gt;= <span class="Identifier">$_</span>[<span class="Constant">1</span>] ) { <span class="Identifier">$_</span>[<span class="Constant">0</span>];}
   <span class="Statement">else</span> { <span class="Identifier">$_</span>[<span class="Constant">1</span>];}
}
<span class="Comment">#will return max of two number, see how $_[i] is used to indicate ith argument</span>

<span class="Statement">print</span> <span class="Identifier">&amp;mymax</span>(<span class="Constant">3</span>,<span class="Constant">5</span>), <span class="Constant">&quot;</span><span class="Special">\n</span><span class="Constant">&quot;</span>;

<span class="Statement">sub</span><span class="Identifier"> </span><span class="Identifier">mypr</span><span class="Identifier"> </span>{
   <span class="Statement">print</span> <span class="Constant">&quot;</span><span class="Identifier">@_</span><span class="Constant"> </span><span class="Special">\n</span><span class="Constant">&quot;</span>;
}
<span class="Comment">#I will used this instead of print from now on.</span>

<span class="Identifier">&amp;mypr</span>(<span class="Constant">&quot;</span><span class="Constant">Hello World</span><span class="Constant">&quot;</span>);
<span class="Comment">#you can define private variables inside the subroutine using my operator:</span>

<span class="Statement">sub</span><span class="Identifier"> </span><span class="Identifier">norm</span><span class="Identifier"> </span>{
   <span class="Statement">my</span>(<span class="Identifier">$m</span>, <span class="Identifier">$n</span>);
   (<span class="Identifier">$m</span>,<span class="Identifier">$n</span>) = <span class="Identifier">@_</span>;
   <span class="Statement">sqrt</span>(<span class="Identifier">$m</span>*<span class="Identifier">$m</span> + <span class="Identifier">$n</span>*<span class="Identifier">$n</span>)
}

<span class="Statement">print</span> <span class="Identifier">&amp;norm</span>(<span class="Constant">3</span>,<span class="Constant">4</span>), <span class="Constant">&quot;</span><span class="Special">\n</span><span class="Constant">&quot;</span>;
<span class="Comment">#extra argument of the subroutine will be ignored.</span>

<span class="Statement">sub</span><span class="Identifier"> </span><span class="Identifier">max2</span><span class="Identifier"> </span>{
   <span class="Statement">if</span> (<span class="Identifier">@_</span> != <span class="Constant">2</span>) {
   <span class="Statement">print</span> <span class="Constant">&quot;</span><span class="Constant">Warning! max2 gets only two argumens!</span><span class="Special">\n</span><span class="Constant">&quot;</span>;
   }
   <span class="Identifier">&amp;mymax</span>(<span class="Identifier">$_</span>[<span class="Constant">0</span>],<span class="Identifier">$_</span>[<span class="Constant">1</span>]);
}

<span class="Comment">#note the context dependency of perls interpretation at &quot;@_ != 2&quot;</span>
<span class="Comment">#note how we can call the subroutines inside other subroutines</span>

<span class="Statement">print</span> max2(<span class="Constant">5</span>,<span class="Constant">10</span>,<span class="Constant">120</span>) , <span class="Constant">&quot;</span><span class="Special">\n</span><span class="Constant">&quot;</span>;

<span class="Comment">#use strict; &gt;&gt; enfore some good programming rules (such as declaring variables)</span>

<span class="Comment">#you can use return operator to immediately return a value:</span>

<span class="Statement">my</span> <span class="Identifier">@fruits</span> = <span class="Constant">qw(</span><span class="Constant"> strawberry apple banana orange melon </span><span class="Constant">)</span>;
<span class="Statement">my</span> <span class="Identifier">$fruitnumber</span> = <span class="Identifier">&amp;which_fruit</span>(<span class="Constant">&quot;</span><span class="Constant">apple</span><span class="Constant">&quot;</span>, <span class="Identifier">@fruits</span>);

<span class="Statement">sub</span><span class="Identifier"> </span><span class="Identifier">which_fruit</span><span class="Identifier"> </span>{
   <span class="Statement">my</span> <span class="Identifier">$indexname</span>;
   <span class="Statement">my</span> <span class="Identifier">@array</span>;
   <span class="Statement">my</span> <span class="Identifier">$index</span>;
   (<span class="Identifier">$indexname</span>, <span class="Identifier">@array</span>) = <span class="Identifier">@_</span>;
   <span class="Statement">foreach</span> <span class="Identifier">$index</span> (<span class="Constant">0.</span>.<span class="Identifier">$#array</span>) {
      <span class="Statement">if</span> ( <span class="Identifier">$array</span>[<span class="Identifier">$index</span>] <span class="Statement">eq</span> <span class="Identifier">$indexname</span> ){ <span class="Statement">return</span> <span class="Identifier">$index</span>; }
   }
   <span class="Constant">-1</span>; <span class="Comment">#return -1 if element not found</span>
}

<span class="Statement">print</span> <span class="Constant">&quot;</span><span class="Constant">apple is </span><span class="Constant">&quot;</span>,<span class="Identifier">$fruitnumber</span> + <span class="Constant">1</span>,<span class="Constant">&quot;</span><span class="Constant">ed one.</span><span class="Special">\n</span><span class="Constant">&quot;</span>;

<span class="Comment">#subroutine can return a list:</span>

<span class="Statement">sub</span><span class="Identifier"> </span><span class="Identifier">rangebetween</span>{
   <span class="Statement">if</span> (<span class="Identifier">$_</span>[<span class="Constant">0</span>] &lt;= <span class="Identifier">$_</span>[<span class="Constant">1</span>])
   {
      <span class="Statement">return</span> (<span class="Identifier">$_</span>[<span class="Constant">0</span>]..<span class="Identifier">$_</span>[<span class="Constant">1</span>]);
   }
   <span class="Statement">else</span>
   {
      <span class="Statement">return</span> <span class="Statement">reverse</span> (<span class="Identifier">$_</span>[<span class="Constant">0</span>]..<span class="Identifier">$_</span>[<span class="Constant">1</span>]);
   }
}
<span class="Identifier">@mrange</span> = <span class="Identifier">&amp;rangebetween</span>(<span class="Constant">3</span>,<span class="Constant">10</span>);
<span class="Statement">print</span> <span class="Constant">&quot;</span><span class="Identifier">@mrange</span><span class="Constant"> </span><span class="Special">\n</span><span class="Constant">&quot;</span>;
<span class="Comment">#note that we can call the subroutines inside other subroutines</span>


<span class="Comment">#using state we can keep the value of private variable in several calls:</span>
<span class="Comment">#note that to use state you need to have &quot;use 5.010&quot;</span>

<span class="Statement">use </span><span class="Constant">5.010</span>; <span class="Comment">#loads all feature available in perl 5.010</span>
<span class="Statement">sub</span><span class="Identifier"> </span><span class="Identifier">cf</span><span class="Identifier"> </span>{
   <span class="Statement">state</span> <span class="Identifier">$n</span> = <span class="Constant">1</span>;
   <span class="Identifier">$n</span> = <span class="Identifier">$n</span>*(<span class="Identifier">$n</span><span class="Constant">+1</span>);
   <span class="Statement">return</span> <span class="Identifier">$n</span>;
}
<span class="Statement">my</span> <span class="Identifier">$nl</span> = <span class="Constant">&quot;</span><span class="Special">\n</span><span class="Constant">&quot;</span>;
<span class="Statement">print</span> <span class="Constant">&quot;</span><span class="Constant">2! = </span><span class="Constant">&quot;</span>, <span class="Identifier">&amp;cf</span>, <span class="Identifier">$nl</span>;
<span class="Statement">print</span> <span class="Constant">&quot;</span><span class="Constant">3! = </span><span class="Constant">&quot;</span>, <span class="Identifier">&amp;cf</span>, <span class="Identifier">$nl</span>;
</pre>

		      <div style="clear: both;"></div>
	         </div>
		      <hr />
	         <div class ="date">last update:   , </div>
	    <div class="footer">
           <p><a href="Home.html">Home</a>|<a href="Research.html">Research</a>|<a href="Contact.html">Contact</a>|<a href="Links.html">Links</a>|<a href="Misc.html">Misc</a>|<a href="sg">Template</a></p>

      </div>  
	    <div style="clear: both;">&nbsp;</div>
        </div> <!-- end content -->
	<!-- in class postandside -->

                 <!--in class postandside-->   
         <!--this line is for compatibility issues --><div style="clear: both;">&#160;</div> <!--Displacement --> 
     </div> <!--End of post and side -->

     <!-- in class page2 -->
     <div style="clear: both;">&nbsp;</div>
  </div> <!--End of Page2 -->
     <div style="clear: both;">&nbsp;</div>

</div> <!-- End of page -->
<!--this is end of the file -->
<!-- ~~~ This content is generated using sg web template ~~-->
<!-- ~~~ For more information visit: http://laplace.physics.ubc.ca/People/arman/sg ~~ -->
</body>
</html>
