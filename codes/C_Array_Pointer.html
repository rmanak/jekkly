<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="description" />
<meta name="keywords" content="keywords" />
<meta name="author" content="author" />
<link rel="stylesheet" type="text/css" href="pagestyle.css" />
<title>Arman Akbarian's Homepage</title>
<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>

<body>
<div class="page">
  <div class="page2">
     <div style="width:100%;height:1px;font-family: Tahoma; font-size: 1pt;"></div>
     <div  class ="header">
		
	     <div class="title">

			Arman Akbarian
			<div class="subtitle">UNIVERSITY OF BRITISH COLUMBIA <br /> PHYSICS &amp; ASTRONOMY DEPT. </div>
	</div> <!-- End of title -->
		<div class="sidebar">
         	<div class="sider">
               <p><a href="Home.html">Home <img src="img/home.svg" width="11px" /></a>
<a href="Research.html">Research <img src="img/beaker.svg" width="11px" /></a>
<a href="Publications.html">Publications <img src="img/pencil.svg" width="11px" /></a>
<a target="_blank" href="http://laplace.phas.ubc.ca/">Group Page <img style="margin-left:1px;" src="img/external-link.svg" alt="" align="bottom" /> <img src="img/people.svg" width="11px" /></a>
<a href="Contact.html">Contact <img src="img/envelope-closed.svg" width="11px" /></a>
<a href="CV.html">CV <img src="img/person.svg" width="11px" /></a></p>

<hr />

<p><a href="Links.html">Links <img src="img/link.svg" width="11px" /></a>
<a href="Learn-By-Examples.html">Programming <img src="img/code.svg" width="11px"/></a>
<a target="_blank" href="FD_doc">FD Toolkit <img style="margin-left:1px;" src="img/external-link.svg" alt="" align="bottom" /> <img src="img/graph.svg" width="11px" /></a>
<a target="_blank" href="sg">Web Template <img style="margin-left:1px;" src="img/external-link.svg" alt="" align="bottom" /> <img src="img/globe.svg" width="11px" /></a>
<a href="http://rmanak.github.io/notes">Miscellany <img src="img/layers.svg" width="11px" /></a></p>

             </div>
         </div> <!--End of Sidebar -->


     </div> <!-- end header -->
	
     <!--This line is for future use -->   <div style="text-align:center; padding-top:10px; padding-bottom:10px;"></div>
	      
     <!--This line is for compatibility issues --> <div style="width:100%;height:5px;font-family: Tahoma; font-size: 1pt;"></div>
     <!--in class page2 -->
     <div class="postandside">
		        <div class="content">
            <div class="post">
              <style type="text/css">
<!--
.Special { color: #6a5acd; }
.Statement { color: #a52a2a; font-weight: bold; }
.Comment { color: #0000ff; }
.PreProc { color: #a020f0; }
.Constant { color: #ff00ff; }
.Type { color: #2e8b57; font-weight: bold; }
-->
</style>
<pre>
<span class="Comment">/*</span><span class="Comment"> AAK:</span>
<span class="Comment"> * This is an example code to learn </span>
<span class="Comment"> * array/matrices and pointer handling in C</span>
<span class="Comment"> * memory allocation etc..</span>
<span class="Comment"> * last update:</span>
<span class="Comment"> * Sat Sep 15 17:10:05 PDT 2012</span>
<span class="Comment"> </span><span class="Comment">*/</span>

<span class="PreProc">#include </span><span class="Constant">&lt;stdio.h&gt;</span>


<span class="Type">int</span> main(<span class="Type">int</span> argc, <span class="Type">char</span> *argv[]) {

   <span class="Type">double</span> *p;
   <span class="Type">int</span> *q;
   <span class="Type">double</span> r;
   <span class="Type">int</span> y[<span class="Constant">3</span>][<span class="Constant">3</span>]; <span class="Comment">/*</span><span class="Comment"> Two dimensional arrays are pointer to pointers </span><span class="Comment">*/</span>
        <span class="Type">int</span> x[<span class="Constant">10</span>]; <span class="Comment">/*</span><span class="Comment"> in C arrays are basically pointers </span><span class="Comment">*/</span>
   <span class="Type">int</span> i,j;

   r = <span class="Constant">10.0</span>;
   p = &amp;r;
   *p = <span class="Constant">5.0</span>;
   printf(<span class="Constant">&quot;Value of r changed to = </span><span class="Special">%f</span><span class="Special">\n</span><span class="Constant">&quot;</span>,r);

   <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">10</span>;i++){
      x[i] = <span class="Constant">2</span> * (i+<span class="Constant">1</span>);
   }

   <span class="Comment">/*</span><span class="Comment"> q will be a pointer to first element in array x </span><span class="Comment">*/</span>
   q = x;
   printf(<span class="Constant">&quot;First element in x = </span><span class="Special">%d</span><span class="Special">\n</span><span class="Constant">&quot;</span>,*q);

   <span class="Comment">/*</span><span class="Comment"> going to the neighbooring memory position using pointer: </span><span class="Comment">*/</span>
   printf(<span class="Constant">&quot;4th element in x = </span><span class="Special">%d</span><span class="Special">\n</span><span class="Constant">&quot;</span>,*(q+<span class="Constant">3</span>));
   <span class="Comment">/*</span><span class="Comment"> or equivalently </span><span class="Comment">*/</span>
        printf(<span class="Constant">&quot;4th element of x = </span><span class="Special">%d</span><span class="Special">\n</span><span class="Constant">&quot;</span>,q[<span class="Constant">3</span>]);

   <span class="Comment">/*</span><span class="Comment"> allocating memory of 5 double variable and returning</span>
<span class="Comment">    * the address to p </span>
<span class="Comment">    * </span><span class="Comment">*/</span>

   p = (<span class="Type">double</span> *)malloc(<span class="Statement">sizeof</span>(<span class="Type">double</span>)*<span class="Constant">5</span>);

   <span class="Comment">/*</span><span class="Comment"> malloc(N) allocates N bytes</span>
<span class="Comment">    * sizeof(type) returns the number of bytes for that type of data</span>
<span class="Comment">    </span><span class="Comment">*/</span>

   printf(<span class="Constant">&quot;Values in p: </span><span class="Special">%f</span><span class="Constant"> </span><span class="Special">%f</span><span class="Constant"> </span><span class="Special">%f</span><span class="Constant"> </span><span class="Special">%f</span><span class="Constant"> </span><span class="Special">%f</span><span class="Special">\n</span><span class="Constant">&quot;</span>,p[<span class="Constant">0</span>],p[<span class="Constant">1</span>],p[<span class="Constant">2</span>],p[<span class="Constant">3</span>],p[<span class="Constant">4</span>]);

   q = (<span class="Type">int</span> *)malloc(<span class="Statement">sizeof</span>(<span class="Type">int</span>)*<span class="Constant">10</span>);

   <span class="Comment">/*</span><span class="Comment"> making q shifted compared to x </span><span class="Comment">*/</span>

   q = &amp;(x[<span class="Constant">1</span>]);

   printf(<span class="Constant">&quot;q is shifted by one as you can see:</span><span class="Special">\n</span><span class="Constant">&quot;</span>);
   printf(<span class="Constant">&quot;q's = </span><span class="Special">%d</span><span class="Constant"> </span><span class="Special">%d</span><span class="Constant"> </span><span class="Special">%d</span><span class="Constant"> </span><span class="Special">%d</span><span class="Constant"> ...</span><span class="Special">\n</span><span class="Constant">&quot;</span>,q[<span class="Constant">0</span>],q[<span class="Constant">1</span>],q[<span class="Constant">2</span>],q[<span class="Constant">3</span>]);
   printf(<span class="Constant">&quot;x's = </span><span class="Special">%d</span><span class="Constant"> </span><span class="Special">%d</span><span class="Constant"> </span><span class="Special">%d</span><span class="Constant"> </span><span class="Special">%d</span><span class="Constant"> ...</span><span class="Special">\n</span><span class="Constant">&quot;</span>,x[<span class="Constant">0</span>],x[<span class="Constant">1</span>],x[<span class="Constant">2</span>],x[<span class="Constant">3</span>]);

   <span class="Comment">/*</span><span class="Comment"> The following line basically &quot;copies&quot; the vector x into q </span><span class="Comment">*/</span>

   q = x;

   printf(<span class="Constant">&quot;q and x are the same: </span><span class="Special">%d</span><span class="Constant"> = </span><span class="Special">%d</span><span class="Constant"> , </span><span class="Special">%d</span><span class="Constant"> = </span><span class="Special">%d</span><span class="Constant"> </span><span class="Special">\n</span><span class="Constant">&quot;</span>,q[<span class="Constant">9</span>],x[<span class="Constant">9</span>], q[<span class="Constant">5</span>],x[<span class="Constant">5</span>]);

   <span class="Comment">/*</span><span class="Comment"> Higher dimensional arrays are also stored in a continuous memory</span>
<span class="Comment">    * with first index runs first, see the output: </span>
<span class="Comment">    * Note that two dimensional array is a pointer to pointer</span><span class="Comment">*/</span>

   <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">3</span>;i++) {
      <span class="Statement">for</span> (j=<span class="Constant">0</span>;j&lt;<span class="Constant">3</span>;j++){
         y[i][j] = <span class="Constant">10</span>*(i+<span class="Constant">1</span>) + j + <span class="Constant">1</span>;
      }
   }

   <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">3</span>;i++){
      printf(<span class="Constant">&quot;y[</span><span class="Special">%d</span><span class="Constant">][1],y[</span><span class="Special">%d</span><span class="Constant">][2],y[</span><span class="Special">%d</span><span class="Constant">][3] = </span><span class="Special">%d</span><span class="Constant"> </span><span class="Special">%d</span><span class="Constant"> </span><span class="Special">%d</span><span class="Special">\n</span><span class="Constant">&quot;</span>,i,i,i,y[i][<span class="Constant">0</span>], y[i][<span class="Constant">1</span>], y[i][<span class="Constant">2</span>]);
   }


   printf(<span class="Constant">&quot;Y's are stored as:</span><span class="Special">\n</span><span class="Constant">&quot;</span>);
   <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">3</span>;i++) {
      <span class="Statement">for</span> (j=<span class="Constant">0</span>;j&lt;<span class="Constant">3</span>;j++){
         printf(<span class="Constant">&quot; </span><span class="Special">%d</span><span class="Constant"> &quot;</span>,*(*(y+j)+i));
      }
   }
   printf(<span class="Constant">&quot;</span><span class="Special">\n</span><span class="Constant">&quot;</span>);


<span class="Comment">/*</span><span class="Comment"> Strings in C are handled by pointers to character </span><span class="Comment">*/</span>
<span class="Type">char</span> *str;

  str=(<span class="Type">char</span> *)malloc(<span class="Statement">sizeof</span>(<span class="Type">char</span>)*<span class="Constant">10</span>);
  printf(<span class="Constant">&quot;Enter an string:</span><span class="Special">\n</span><span class="Constant">&quot;</span>);
  scanf(<span class="Constant">&quot;</span><span class="Special">%s</span><span class="Constant">&quot;</span>,str);
  printf(<span class="Constant">&quot;You entered: [</span><span class="Special">%s</span><span class="Constant">]</span><span class="Special">\n</span><span class="Constant">&quot;</span>,str);
  str=<span class="Constant">&quot;Hi!  &quot;</span>;
  printf(<span class="Constant">&quot;str changed to: [</span><span class="Special">%s</span><span class="Constant">]</span><span class="Special">\n</span><span class="Constant">&quot;</span>,str);

<span class="Comment">/*</span><span class="Comment"> or you can define str as char str[10] </span><span class="Comment">*/</span>

}

</pre>

		      <div style="clear: both;"></div>
	         </div>
		      <hr />
	         <div class ="date">last update:   , </div>
	    <div class="footer">
           <p><a href="Home.html">Home</a>|<a href="Research.html">Research</a>|<a href="Contact.html">Contact</a>|<a href="Links.html">Links</a>|<a href="Misc.html">Misc</a>|<a href="sg">Template</a></p>

      </div>  
	    <div style="clear: both;">&nbsp;</div>
        </div> <!-- end content -->
	<!-- in class postandside -->

                 <!--in class postandside-->   
         <!--this line is for compatibility issues --><div style="clear: both;">&#160;</div> <!--Displacement --> 
     </div> <!--End of post and side -->

     <!-- in class page2 -->
     <div style="clear: both;">&nbsp;</div>
  </div> <!--End of Page2 -->
     <div style="clear: both;">&nbsp;</div>

</div> <!-- End of page -->
<!--this is end of the file -->
<!-- ~~~ This content is generated using sg web template ~~-->
<!-- ~~~ For more information visit: http://laplace.physics.ubc.ca/People/arman/sg ~~ -->
</body>
</html>
